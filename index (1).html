
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Méthode Point Final</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fff0f5;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
      color: #e91e63;
    }
    .section {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label, select, input, button {
      font-size: 1em;
      margin: 10px 0;
      display: block;
      width: 100%;
    }
    button {
      background: #e91e63;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    .resultat {
      font-weight: bold;
      color: #333;
      margin-top: 10px;
    }
    ul {
      padding-left: 1.2em;
    }
    .aliment-item {
      cursor: pointer;
    }
    .aliment-item:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Méthode Point Final</h1>

    <div class="section">
      <h2>Choix du profil</h2>
      <label for="genre">Genre</label>
      <select id="genre">
        <option value="femme">Femme</option>
        <option value="homme">Homme</option>
      </select>

      <label for="niveau">Niveau d'activité</label>
      <select id="niveau">
        <option value="sedentaire">Sédentaire</option>
        <option value="modere">Modéré</option>
        <option value="actif">Actif</option>
      </select>

      <label for="plan">Plan</label>
      <select id="plan">
        <option value="easy">Easy</option>
        <option value="start">Start</option>
        <option value="boost">Boost</option>
      </select>

      <label for="poids">Poids (kg)</label>
      <input type="number" id="poids" placeholder="ex: 65"/>

      <button onclick="calculerPoints()">Calculer mes points</button>
      <div id="resultat" class="resultat"></div>
    </div>

    <div class="section">
      <h2>Ajouter un aliment</h2>
      <input type="text" id="nomAliment" placeholder="Nom de l'aliment"/>
      <input type="number" id="pointsAliment" placeholder="Points"/>
      <button onclick="ajouterAliment()">Ajouter</button>
      <ul id="listeAliments"></ul>
    </div>

    <div class="section">
      <h2>Table d’équivalences</h2>
      <h3>▼Glucides</h3>
      <ul>
        <li>1 tranche de pain = 1 pt</li>
        <li>30g de céréales = 2 pts</li>
        <li>100g de riz = 3 pts</li>
        <li>100g de pâtes = 4 pts</li>
        <li>100g de pommes de terre = 2 pts</li>
      </ul>
      <h3>▼Protéines</h3>
      <ul>
        <li>100g de poulet = 2 pts</li>
        <li>1 œuf = 1 pt</li>
        <li>100g de poisson = 2 pts</li>
        <li>100g de tofu = 2 pts</li>
      </ul>
      <h3>▼Plaisirs</h3>
      <ul>
        <li>1 carré de chocolat = 1 pt</li>
        <li>1 verre de vin = 2 pts</li>
        <li>1 biscuit = 1 pt</li>
        <li>1 part de pizza = 5 pts</li>
      </ul>
    </div>

    <div class="section">
      <h2>Philosophie finale</h2>
      <p>Point final. Tu comptes les points, pas les calories. Ton objectif est de rester dans ta limite quotidienne. L’important, c’est l’équilibre sur la durée.</p>
    </div>
  </div>

  <script>
    const basePoints = {
      easy: 18,
      start: 22,
      boost: 26
    };

    function calculerPoints() {
      const genre = document.getElementById('genre').value;
      const niveau = document.getElementById('niveau').value;
      const poids = parseInt(document.getElementById('poids').value);
      const plan = document.getElementById('plan').value;

      if (!poids || poids <= 0) {
        document.getElementById('resultat').innerText = 'Merci d’entrer un poids valide.';
        return;
      }

      let points = basePoints[plan];
      if (genre === 'homme') points += 3;
      if (niveau === 'modere') points += 2;
      else if (niveau === 'actif') points += 4;

      points += Math.floor(poids / 10);

      document.getElementById('resultat').innerText = `Tu as droit à ${points} points par jour.`;
    }

    function ajouterAliment() {
      const nom = document.getElementById('nomAliment').value;
      const pts = document.getElementById('pointsAliment').value;
      if (nom && pts) {
        const li = document.createElement('li');
        li.innerText = `${nom} = ${pts} pt(s)`;
        document.getElementById('listeAliments').appendChild(li);
        document.getElementById('nomAliment').value = '';
        document.getElementById('pointsAliment').value = '';
      }
    }

    // Remise à zéro journalière simulée
    window.onload = () => {
      const today = new Date().toDateString();
      if (localStorage.getItem('resetDay') !== today) {
        localStorage.setItem('resetDay', today);
        localStorage.removeItem('listeAliments');
        document.getElementById('listeAliments').innerHTML = '';
      }
    };
  </script>
</body>
</html>


<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Méthode Point Final</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Poppins', sans-serif; background: #fff0f5; padding: 20px; color: #333; }
    h1, h2 { color: #e91e63; text-align: center; }
    .section { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, select, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 6px; border: 1px solid #ccc; }
    button { background-color: #e91e63; color: white; font-weight: bold; cursor: pointer; border: none; }
    .aliment { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .points { font-weight: bold; }
    #search { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Méthode Point Final</h1>

  <div class="section">
    <h2>1. Ton Profil</h2>
    <input type="text" id="prenom" placeholder="Ton prénom">
    <select id="sexe">
      <option value="femme">Femme</option>
      <option value="homme">Homme</option>
    </select>
    <input type="number" id="poids" placeholder="Poids (kg)">
    <select id="activite">
      <option value="sedentaire">Sédentaire</option>
      <option value="moderee">Modérée</option>
      <option value="active">Très active</option>
    </select>
    <select id="plan">
      <option value="easy">EASY</option>
      <option value="start">START</option>
      <option value="boost">BOOST</option>
    </select>
    <button onclick="calculerPoints()">Calculer mes points</button>
    <p id="resultatPoints" class="points"></p>
  </div>

  <div class="section">
    <h2>2. Équivalences</h2>
    <input type="text" id="search" placeholder="Recherche un aliment...">
    <div id="equivalences">
      <!-- Liste dynamique ici -->
    </div>
  </div>

  <div class="section">
    <h2>3. Points restants</h2>
    <p id="pointsRestants" class="points">Points restants : -</p>
  </div>

  <script>
    const aliments = [
      { nom: "Frites au four (60g)", points: 1.5 },
      { nom: "Pâtes (100g cuit)", points: 1.5 },
      { nom: "Banane (100g)", points: 1 },
      { nom: "Chocolat noir (4 carrés)", points: 1.5 },
      { nom: "Pain complet (40g)", points: 1 },
      { nom: "Croissant", points: 3 },
      { nom: "Huile d’olive (10g)", points: 1 }
    ];
    let totalPoints = 0;
    let quota = 0;

    function calculerPoints() {
      const poids = parseInt(document.getElementById("poids").value);
      const plan = document.getElementById("plan").value;
      if (!poids || !plan) return;
      if (poids <= 70) quota = plan === "easy" ? 16 : plan === "start" ? 13 : 11;
      else if (poids <= 80) quota = plan === "easy" ? 17 : plan === "start" ? 14.5 : 12.5;
      else quota = plan === "easy" ? 20 : plan === "start" ? 17 : 15;
      totalPoints = 0;
      document.getElementById("resultatPoints").textContent = "Tu as droit à " + quota + " points/jour";
      document.getElementById("pointsRestants").textContent = "Points restants : " + (quota - totalPoints);
    }

    function ajouterPoint(pt) {
      totalPoints += pt;
      document.getElementById("pointsRestants").textContent = "Points restants : " + (quota - totalPoints).toFixed(1);
    }

    function renderEquivalences() {
      const container = document.getElementById("equivalences");
      container.innerHTML = "";
      aliments.forEach(a => {
        const div = document.createElement("div");
        div.className = "aliment";
        div.innerHTML = `<span>${a.nom} - ${a.points} pts</span><button onclick="ajouterPoint(${a.points})">+ Ajouter</button>`;
        container.appendChild(div);
      });
    }

    document.getElementById("search").addEventListener("input", function() {
      const val = this.value.toLowerCase();
      const container = document.getElementById("equivalences");
      container.innerHTML = "";
      aliments.filter(a => a.nom.toLowerCase().includes(val)).forEach(a => {
        const div = document.createElement("div");
        div.className = "aliment";
        div.innerHTML = `<span>${a.nom} - ${a.points} pts</span><button onclick="ajouterPoint(${a.points})">+ Ajouter</button>`;
        container.appendChild(div);
      });
    });

    renderEquivalences();
  </script>
</body>
</html>
